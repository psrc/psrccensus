<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculate PUMS summaries • psrccensus</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Calculate PUMS summaries">
<meta property="og:description" content="Learn how to utilize Census microdata to go beyond Census-published statistics
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">psrccensus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/psrccensus.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/calculate-pums-summaries.html">Calculate PUMS summaries</a>
    </li>
    <li>
      <a href="../articles/get-data.html">Get Data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="calculate-pums-summaries_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Calculate PUMS summaries</h1>
            
      
      
      <div class="hidden name"><code>calculate-pums-summaries.Rmd</code></div>

    </div>

    
    
<pre><code>## Warning: package 'dplyr' was built under R version 4.0.5</code></pre>
<pre><code>## Warning: package 'srvyr' was built under R version 4.0.5</code></pre>
<div id="what-is-census-microdata" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-census-microdata" class="anchor"></a>What is Census microdata?</h2>
<p>Along with publishing summary statistics from the diennial Census or American Community Survey (ACS), the Census Bureau also makes available a subset of individual person and housing (incl. household) records, called the Public Use Microdata Sample (PUMS). These can be used to estimate models or to tabulate custom statistics unavailable in Census-published summary statistics. Partly to safeguard privacy, PUMS data is not categorized by standard Census geographies such as block, block group or tract; instead the unit is the Public Use Microdata Area (PUMA), an aggregation of tracts with total population between 100,000-200,000. In the past there were more that one set of PUMAs, corresponding to different sampling; that is no longer the case (PUMAs now consistently represent a 5 percent sample).</p>
<p>PUMS data include sampling weights in order to be extrapolated to a larger population, and replication weights in order to calculate margins of error. When PUMS is used to drill down to small subsets of the population, particular attention should be paid to the margins of error in drawing any conclusions from the data.</p>
</div>
<div id="summary-statistics-via-psrccensus" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-statistics-via-psrccensus" class="anchor"></a>Summary statistics via psrccensus</h2>
<p>The PSRC census package makes it easy to calculate standard summary statistics by county or for the region as a whole, using the following functions, specific to geography and the desired statistic:</p>
<p>psrc_pums_median() psrc_pums_mean() county_pums_median() county_pums_mean()</p>
<p>Each function requires three arguments: the first two denote the dataset involved; the third is the PUMS variable name you wish to summarize. To separate that statistic for subgroups of the population, use the optional fourth argument. You must enter the exact target variable or grouping variable name (in uppercase), and since these names vary from the diennial or acs naming, it may be useful to reference the data dictionaries the Census Bureau provides specific to each data year, <a href="https://www.census.gov/programs-surveys/acs/data/experimental-data/2020-1-year-pums.html">2020 as an example</a>.</p>
<p>The functions handle extrapolation to the wider population (via sampling weights) and calculation of margins of error (via replication weights) internally. Additionally, they also apply inflation adjustments to variables measured in dollar values: since the survey is collected on a rolling basis, nominal income components or costs would not otherwise be directly comparable between households.</p>
<p>Household-level summary data involve only occupied housing, i.e. group quarters and vacant units are excluded. Individuals living in group quarters are represented in person-level statistics but can be separated based on the TYPE variable.</p>
<p>To calculate the regional median household income for 2019, for example, you would use the following function call:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/regional_pums_stat.html">psrc_pums_median</a></span><span class="op">(</span>span <span class="op">=</span> <span class="fl">1</span>,                  <span class="co"># Denoting ACS 1-year estimates</span>
                 dyear <span class="op">=</span> <span class="fl">2019</span>,
                 target_var <span class="op">=</span> <span class="st">"AGEP"</span><span class="op">)</span>       <span class="co"># The PUMS variable name for age</span></code></pre></div>
<p>To calculate by a subgroup category (here, tenure–e.g. own vs. rent), use the optional grouping variable argument:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/regional_pums_stat.html">psrc_pums_median</a></span><span class="op">(</span>span <span class="op">=</span> <span class="fl">1</span>,                  <span class="co"># Denoting ACS 1-year estimates</span>
                 dyear <span class="op">=</span> <span class="fl">2019</span>,
                 target_var <span class="op">=</span> <span class="st">"AGEP"</span>,       <span class="co"># The PUMS variable name for age</span>
                 group_var <span class="op">=</span> <span class="st">"SEX"</span><span class="op">)</span>         <span class="co"># The PUMS variable name for sex</span></code></pre></div>
<p>For the equivalent calculation by county, use the county-specific function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/county_pums_stat.html">county_pums_median</a></span><span class="op">(</span>span <span class="op">=</span> <span class="fl">1</span>,                <span class="co"># Denoting ACS 1-year estimates</span>
                   dyear <span class="op">=</span> <span class="fl">2019</span>,
                   target_var <span class="op">=</span> <span class="st">"AGEP"</span>,     <span class="co"># The PUMS variable name for age</span>
                   group_var <span class="op">=</span> <span class="st">"SEX"</span><span class="op">)</span>       <span class="co"># The PUMS variable name for sex</span></code></pre></div>
<p>Results are limited to the 4-county PSRC region for simplicity, although the underlying data exists for every part of the country.</p>
<p>Notice, the API doesn’t provide variable labels for data years prior to 2017; the label in those cases will be the variable value (consult the appropriate year data dictionary to interpret the value).</p>
<p><strong>Warning</strong>: The Census Bureau PUMS API routinely has downtime between 2-5pm Pacific Time. Do not be alarmed if you receive one of the following messages: <em>Your API call has errors. The API message returned is There was an error while running your query. We’ve logged the error and we’ll correct it ASAP. Sorry for the inconvenience.</em> -or- <em>“Sorry, the system is currently undergoing maintenance or is busy. Please try again later.”</em> In light of this, we suggest scheduling work with PUMS earlier in the workday, or waiting until the API has been restored. (PUMS data can still be downloaded from the <a href="https://www2.census.gov/programs-surveys/acs/data/pums/">Census FTP server</a>, but without the tools available via psrccensus.)</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Craig Helmann, Christy Lam, Polina Butrina, Suzanne Childress, Michael Jensen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
