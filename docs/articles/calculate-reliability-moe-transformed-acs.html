<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="How to calculate reliability and margins of error on transformed ACS data.
">
<title>Reliability Measures on Transformed ACS Metrics • psrccensus</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reliability Measures on Transformed ACS Metrics">
<meta property="og:description" content="How to calculate reliability and margins of error on transformed ACS data.
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">psrccensus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/psrccensus.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/calculate-reliability-moe-transformed-acs.html">Reliability Measures on Transformed ACS Metrics</a>
    <a class="dropdown-item" href="../articles/geographic-conversions.html">Census estimates for non-census geographies</a>
    <a class="dropdown-item" href="../articles/get-data.html">Get Data</a>
    <a class="dropdown-item" href="../articles/pums-1-basics.html">PUMS 1: Calculate basic summaries</a>
    <a class="dropdown-item" href="../articles/pums-2-make-vars.html">PUMS 2: Make your own variables</a>
    <a class="dropdown-item" href="../articles/pums-3-multiyear.html">PUMS 3: Script multiyear functions</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Reliability Measures on Transformed ACS Metrics</h1>
            
      
      
      <div class="d-none name"><code>calculate-reliability-moe-transformed-acs.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="how-to-calculate-reliability-estimates-on-transformed-acs-dataframes">How to calculate reliability estimates on transformed ACS
dataframes<a class="anchor" aria-label="anchor" href="#how-to-calculate-reliability-estimates-on-transformed-acs-dataframes"></a>
</h2>
<p>This vignette explains how to calculate reliability measures for ACS
metrics that require transformation. <a href="https://www.census.gov/content/dam/Census/library/publications/2018/acs/acs_general_handbook_2018_ch08.pdf" class="external-link">This
document from Census</a> provides background on how to estimate margins
of error on user derived estimates.</p>
<p>The psrccensus library contains functionality has been added to
provide coefficients of variation, standard errors, and reliability
labels to ACS data retrieved directly from the api. Every ACS data table
output from psrccensus via the function <a href="https://psrc.github.io/psrccensus/reference/get_acs_recs.html">get_acs_recs()</a>
includes fields for standard error, coefficient of variation, and
reliability. But often you need to transform the variables that come
from the ACS to get at what you need to summarize, and this is not
directly built into psrccensus.</p>
<p>To calculate reliability using psrccensus, on user transformed
tables, you may want to apply the function <a href="https://psrc.github.io/psrccensus/reference/reliability_calcs.html">reliability_calcs()</a>.
This function requires you have a dataframe, a column holding the
margins of error, and a column holding the estimate. So you need to have
pre-calculated the margin of error transformed, along the way to be able
to retrieve the reliability of the estimate.</p>
<p>At each stage of calculation and aggregation, you need to
re-calculate the margins of error. The R library tidycensus has built in
functions for (re-calculating margins of error)[<a href="https://walker-data.com/tidycensus/articles/margins-of-error.html" class="external-link uri">https://walker-data.com/tidycensus/articles/margins-of-error.html</a>]
after data transformation. We recommend that users rely on these
functions to derive margins of error when data needs to be aggregated.
Another option would be to code the margin of error calculations into a
user defined fucntions.</p>
<p>Common functions from tidycensus for calculating margins of error,
are the following:</p>
<ul>
<li><p>moe_product:<br>
Calculate the margin of error for a derived product</p></li>
<li><p>moe_prop(): Calculate the margin of error for a derived
proportion</p></li>
<li><p>moe_ratio() Calculate the margin of error for a derived
ratio</p></li>
<li><p>moe_sum() Calculate the margin of error for a derived sum (or
difference)</p></li>
</ul>
<div class="section level3">
<h3 id="example-housing-cost-burden">Example: Housing Cost Burden<a class="anchor" aria-label="anchor" href="#example-housing-cost-burden"></a>
</h3>
<p>In this example, we want to retrieve the percent of households that
are cost-burdened by Census tract. Cost-burdened is defined in this case
as spending more than 30% of household income on housing costs. This
data will be used to create a map by Census Tract to show areas of
greater housing cost burden geographically.</p>
<p>To do the summary, first you need to aggregate the data provided by
households spending over 30% based on the available fields-Less than
10.0 percent,10.0 to 14.9 percent, 15.0 to 19.9 percent, 20.0 to 24.9
percent, 25.0 to 29.9 percent. These summed items by group provide the
numerator of your calculation.</p>
<p>Next you need to redefine the total to remove when the values are not
compute- this is denominator. Then you need to calculate the shares.</p>
<p>For each data transformation, you need to recalculate the margin of
error.</p>
<div class="section level4">
<h4 id="read-in-libraries">Read in Libraries<a class="anchor" aria-label="anchor" href="#read-in-libraries"></a>
</h4>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://psrc.github.io/psrccensus/">psrccensus</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://walker-data.com/tidycensus/" class="external-link">tidycensus</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'dplyr'</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:stats':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     filter, lag</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     intersect, setdiff, setequal, union</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="get-the-data-from-the-acs-api-via-psrccensus">Get the data from the ACS api via psrccensus<a class="anchor" aria-label="anchor" href="#get-the-data-from-the-acs-api-via-psrccensus"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Finding the corresponding ACS table - this works if you know the correct concept label. If not, another option would be to visit https://data.census.gov/table and search for the right subject table and skip to the next step ----</span></span>
<span><span class="co">#x &lt;- tidycensus::load_variables(2021,"acs5") %&gt;% </span></span>
<span><span class="co"># dplyr::filter(grepl("percent",</span></span>
<span><span class="co">#                    concept, ignore.case=TRUE) &amp; </span></span>
<span><span class="co">#               (geography=="tract"))</span></span>
<span></span>
<span><span class="co"># getting data by tract</span></span>
<span><span class="va">acs_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_acs_recs.html">get_acs_recs</a></span><span class="op">(</span>geography <span class="op">=</span><span class="st">'tract'</span>, </span>
<span>                         table.names <span class="op">=</span> <span class="st">'B25070'</span>, <span class="co">#subject table code</span></span>
<span>                         years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2021</span><span class="op">)</span>,</span>
<span>                         acs.type <span class="op">=</span> <span class="st">'acs5'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Getting data from the 2017-2021 5-year ACS</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="add-a-grouping">Add a grouping<a class="anchor" aria-label="anchor" href="#add-a-grouping"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># data wrangling for grouping &gt;30% and under 30% - census tract and population</span></span>
<span><span class="va">acs_data</span> <span class="op">&lt;-</span> <span class="va">acs_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html" class="external-link">rename_at</a></span><span class="op">(</span><span class="st">'label'</span>, <span class="op">~</span><span class="st">'rent_burden'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create variables</span></span>
<span><span class="va">acs_data</span> <span class="op">&lt;-</span> <span class="va">acs_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>rent_burden_group<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Less than 10.0 percent|10.0 to 14.9 percent|15.0 to 19.9 percent|</span></span>
<span><span class="st">                    20.0 to 24.9 percent|25.0 to 29.9 percent"</span>, <span class="va">rent_burden</span><span class="op">)</span> <span class="op">~</span></span>
<span>                    <span class="st">"Less than 30 percent"</span>,</span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"30.0 to 34.9 percent|35.0 to 39.9 percent|35.0 to 39.9 percent|</span></span>
<span><span class="st">                    40.0 to 49.9 percent|50.0 percent or more"</span>, <span class="va">rent_burden</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="st">"Cost Burdened (More than 30 percent)"</span>,</span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Not computed"</span>, <span class="va">rent_burden</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Not computed"</span>,</span>
<span>              <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">rent_burden</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Total"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="aggregate-and-calculate">Aggregate and calculate<a class="anchor" aria-label="anchor" href="#aggregate-and-calculate"></a>
</h4>
<p>The moe_sum uses tidycensus.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># filter only fields of interest - census tract and estimate</span></span>
<span></span>
<span><span class="co"># use the moe_sum function from tidycensus</span></span>
<span><span class="va">acs_data_group</span> <span class="op">&lt;-</span> <span class="va">acs_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">GEOID</span>, <span class="va">rent_burden_group</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>estimate<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span>, </span>
<span>                   moe<span class="op">=</span><span class="fu">tidycensus</span><span class="fu">::</span><span class="fu"><a href="https://walker-data.com/tidycensus/reference/moe_sum.html" class="external-link">moe_sum</a></span><span class="op">(</span>estimate<span class="op">=</span><span class="va">estimate</span>, moe<span class="op">=</span><span class="va">moe</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `summarise()` has grouped output by 'GEOID'. You can override using the</span></span>
<span><span class="co">## `.groups` argument.</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="data-wrangling">Data wrangling<a class="anchor" aria-label="anchor" href="#data-wrangling"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># pivot data to calculate percentage by census tract, calculate estimates</span></span>
<span></span>
<span><span class="va">acs_data_group</span><span class="op">&lt;-</span> <span class="va">acs_data_group</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>   </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">rent_burden_group</span>, values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">estimate</span>,<span class="va">moe</span><span class="op">)</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">'estimate_cost_burdened'</span><span class="op">=</span><span class="st">'estimate_Cost Burdened (More than 30 percent)'</span>,</span>
<span>         <span class="st">'moe_cost_burdened'</span><span class="op">=</span> <span class="st">'moe_Cost Burdened (More than 30 percent)'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># weight averages for population &amp; calculating percentage/share of population per tract instead of integer</span></span>
<span><span class="va">acs_data_group</span><span class="op">&lt;-</span>  <span class="va">acs_data_group</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>estimate_new_total<span class="op">=</span><span class="op">(</span><span class="va">estimate_Total</span><span class="op">-</span><span class="va">`estimate_Not computed`</span><span class="op">)</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>estimate_perc_cost_burdened<span class="op">=</span><span class="op">(</span><span class="op">(</span><span class="va">estimate_cost_burdened</span><span class="op">/</span><span class="va">estimate_new_total</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="calculate-margins-of-error">Calculate margins of error<a class="anchor" aria-label="anchor" href="#calculate-margins-of-error"></a>
</h4>
<p>Because you are applying the function across the columns, as opposed
to down the grouped rows, you need to apply the function rowwise. You
would not need to do this if the data were not pivoted.</p>
<p>Note the moe_sum is applied although you are taking a difference.
Then moe_prop is applied when you are finding the shares.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#calculate moes</span></span>
<span><span class="va">acs_data_group</span><span class="op">&lt;-</span> <span class="va">acs_data_group</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html" class="external-link">rowwise</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>moe_new_total<span class="op">=</span><span class="fu"><a href="https://walker-data.com/tidycensus/reference/moe_sum.html" class="external-link">moe_sum</a></span><span class="op">(</span>estimate<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">estimate_Total</span>, <span class="va">`estimate_Not computed`</span><span class="op">)</span>, </span>
<span>                               moe<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">moe_Total</span>,<span class="va">`moe_Not computed`</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>moe_perc_cost_burdened<span class="op">=</span><span class="fu"><a href="https://walker-data.com/tidycensus/reference/moe_prop.html" class="external-link">moe_prop</a></span><span class="op">(</span>num<span class="op">=</span><span class="va">estimate_cost_burdened</span>,</span>
<span>                              denom<span class="op">=</span><span class="va">estimate_new_total</span>, moe_num<span class="op">=</span><span class="va">moe_cost_burdened</span>, moe_denom<span class="op">=</span><span class="va">moe_new_total</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">acs_data_final</span><span class="op">&lt;-</span> <span class="va">acs_data_group</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">GEOID</span>, <span class="va">estimate_cost_burdened</span>, <span class="va">estimate_new_total</span>, <span class="va">estimate_perc_cost_burdened</span>,</span>
<span>                <span class="va">moe_cost_burdened</span>, <span class="va">moe_new_total</span>, <span class="va">moe_perc_cost_burdened</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">estimate_cost_burdened</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">acs_data_final</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/reliability_calcs.html">reliability_calcs</a></span><span class="op">(</span><span class="va">acs_data_final</span>, estimate<span class="op">=</span><span class="st">'estimate_perc_cost_burdened'</span>, </span>
<span>                                  moe<span class="op">=</span><span class="st">'moe_perc_cost_burdened'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">acs_data_final</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">GEOID</span>, <span class="va">estimate_perc_cost_burdened</span>, <span class="va">reliability</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Rowwise:  GEOID</span></span></span>
<span><span class="co">##   GEOID       estimate_perc_cost_burdened reliability     </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 53033000101                       0.298 fair            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 53033000102                       0.325 fair            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 53033000201                       0.339 fair            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 53033000202                       0.241 use with caution</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 53033000300                       0.313 use with caution</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 53033000402                       0.292 fair</span></span></code></pre>
<p>Now the data is ready to be joined to the tract map, if desired.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Craig Helmann, Christy Lam, Polina Butrina, Suzanne Childress, Michael Jensen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
