<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started • psrccensus</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="psrccensus">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">psrccensus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/psrccensus.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="psrccensus_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started</h1>
                        <h4 class="author">Data Science</h4>
            
            <h4 class="date">July 2021</h4>
      
      
      <div class="hidden name"><code>psrccensus.Rmd</code></div>

    </div>

    
    
<div id="psrccensus" class="section level1">
<h1 class="hasAnchor">
<a href="#psrccensus" class="anchor"></a>psrccensus</h1>
<p>The psrccensus package allows R users at PSRC to download, summarize, and visualize Census, ACS, and PUMS data on common PSRC Census geographies.</p>
<p>The three most important functions are:</p>
<ul>
<li><p><a href="https://psrc.github.io/psrccensus/reference/get_acs_recs.html" title="function for getting ACS tables">get_acs_recs(geography,state,counties,table.names.years, FIPS, acs.type)</a></p></li>
<li><p><a href="https://psrc.github.io/psrccensus/reference/get_decennial_recs.html" title="functions for getting Census tables">get_decennial_recs(geography, counties, table_codes,year, fips)</a></p></li>
<li><p>get_pums_recs: to be coded later</p></li>
</ul>
<p>To use the library psrccensus, you first will need to get an api key.</p>
<div id="set-up-your-api-key" class="section level3">
<h3 class="hasAnchor">
<a href="#set-up-your-api-key" class="anchor"></a>Set up your API key</h3>
<p>The first time you run this code, you will need to set our Census API Key as an environment variable, if you haven’t done that before. After that you can just get it. This is the website to get a key: <a href="https://api.census.gov/data/key_signup.html" class="uri">https://api.census.gov/data/key_signup.html</a>. Once you run Sys.setenv on the Census API Key you will only need to run Sys.getenv.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">psrccensus</span><span class="op">)</span>
<span class="co">#Sys.setenv(CENSUS_API_KEY = 'PUT YOUR KEY HERE')</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span><span class="op">(</span><span class="st">"CENSUS_API_KEY"</span><span class="op">)</span></code></pre></div>
<p>Next you need to decide what tables you would like to download and summarize. This is the hardest part because you have find the correct table code, decide on geography, and which years.</p>
</div>
<div id="finding-the-table-id" class="section level2">
<h2 class="hasAnchor">
<a href="#finding-the-table-id" class="anchor"></a>Finding the table ID</h2>
<p>One helpful website for finding the tables on a topic from ACS and Census is: <a href="https://censusreporter.org/" class="uri">https://censusreporter.org/</a></p>
<p>You can also search the api variable lists from ACS and Census.</p>
<div id="acs-1-year-api-variable-list" class="section level3">
<h3 class="hasAnchor">
<a href="#acs-1-year-api-variable-list" class="anchor"></a>2019 ACS 1-year api Variable List</h3>
<p><a href="https://api.census.gov/data/2019/acs/acs1/variables.html" class="uri">https://api.census.gov/data/2019/acs/acs1/variables.html</a></p>
</div>
<div id="year--table-list" class="section level3">
<h3 class="hasAnchor">
<a href="#year--table-list" class="anchor"></a>2015-2019 5 year- table list</h3>
<p><a href="https://api.census.gov/data/2019/acs/acs5/variables.html" class="uri">https://api.census.gov/data/2019/acs/acs5/variables.html</a></p>
</div>
<div id="census-api-variable-list" class="section level3">
<h3 class="hasAnchor">
<a href="#census-api-variable-list" class="anchor"></a>2010 Census api variable list</h3>
<p><a href="https://www.census.gov/data/developers/data-sets/decennial-census.html" class="uri">https://www.census.gov/data/developers/data-sets/decennial-census.html</a></p>
</div>
</div>
</div>
<div id="get-the-data" class="section level1">
<h1 class="hasAnchor">
<a href="#get-the-data" class="anchor"></a>Get the data —————————————————–</h1>
<p>The functions are documented on: <a href="https://psrc.github.io/psrccensus/reference/index.html" class="uri">https://psrc.github.io/psrccensus/reference/index.html</a></p>
<p>Suppose you wish to tabulate ACS one year data 2019 data for estimates of total people by race and ethnicity, as provided in table B03002 by county. You would use the following function call.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_acs_recs.html">get_acs_recs</a></span><span class="op">(</span>geography <span class="op">=</span> <span class="st">'county'</span>,
             table.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'B03002'</span><span class="op">)</span>,
             years<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2019</span><span class="op">)</span>,
             acs.type <span class="op">=</span> <span class="st">'acs1'</span><span class="op">)</span></code></pre></div>
<pre><code>## The 1-year ACS provides data for geographies with populations of 65,000 and greater.</code></pre>
<pre><code>## Getting data from the 2019 1-year ACS</code></pre>
<pre><code>## # A tibble: 105 x 11
##    GEOID name   state variable estimate   moe label    concept  census_geography
##    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;           
##  1 53033 King ~ Wash~ B03002_~  2252782    NA Estimat~ HISPANI~ County          
##  2 53033 King ~ Wash~ B03002_~  2030140    NA Estimat~ HISPANI~ County          
##  3 53033 King ~ Wash~ B03002_~  1302544  3208 Estimat~ HISPANI~ County          
##  4 53033 King ~ Wash~ B03002_~   147822  4678 Estimat~ HISPANI~ County          
##  5 53033 King ~ Wash~ B03002_~    13321  1990 Estimat~ HISPANI~ County          
##  6 53033 King ~ Wash~ B03002_~   424590  7085 Estimat~ HISPANI~ County          
##  7 53033 King ~ Wash~ B03002_~    15702  1831 Estimat~ HISPANI~ County          
##  8 53033 King ~ Wash~ B03002_~     6574  3281 Estimat~ HISPANI~ County          
##  9 53033 King ~ Wash~ B03002_~   119587  8804 Estimat~ HISPANI~ County          
## 10 53033 King ~ Wash~ B03002_~     2639  1744 Estimat~ HISPANI~ County          
## # ... with 95 more rows, and 2 more variables: acs_type &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
<p>To generate Decennial Census tables for housing units and total population by MSA, you would call:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_decennial_recs.html">get_decennial_recs</a></span><span class="op">(</span>geography <span class="op">=</span> <span class="st">'msa'</span>,
                   table_codes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"H001"</span>, <span class="st">"P001"</span><span class="op">)</span>,
                   year <span class="op">=</span> <span class="fl">2010</span>,
                   fips <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'42660'</span>, <span class="st">"28420"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Getting data from the 2010 decennial Census</code></pre>
<pre><code>## Loading SF1 variables for 2010 from table H001. To cache this dataset for faster access to Census tables in the future, run this function with `cache_table = TRUE`. You only need to do this once per Census dataset.</code></pre>
<pre><code>## Using Census Summary File 1</code></pre>
<pre><code>## Getting data from the 2010 decennial Census</code></pre>
<pre><code>## Loading SF1 variables for 2010 from table P001. To cache this dataset for faster access to Census tables in the future, run this function with `cache_table = TRUE`. You only need to do this once per Census dataset.</code></pre>
<pre><code>## Using Census Summary File 1</code></pre>
<pre><code>## # A tibble: 4 x 6
##   GEOID NAME                               variable   value label concept       
##   &lt;chr&gt; &lt;chr&gt;                              &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;         
## 1 28420 Kennewick-Pasco-Richland, WA Metr~ H001001    93041 Total HOUSING UNITS 
## 2 42660 Seattle-Tacoma-Bellevue, WA Metro~ H001001  1463295 Total HOUSING UNITS 
## 3 28420 Kennewick-Pasco-Richland, WA Metr~ P001001   253340 Total TOTAL POPULAT~
## 4 42660 Seattle-Tacoma-Bellevue, WA Metro~ P001001  3439809 Total TOTAL POPULAT~</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Craig Helmann, Christy Lam, Polina Butrina, Suzanne Childress.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
